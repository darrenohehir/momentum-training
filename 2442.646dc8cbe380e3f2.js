"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2442],{2442:(k,u,a)=>{a.r(u),a.d(u,{StartSessionPageModule:()=>P});var l=a(2200),d=a(4341),i=a(7343),g=a(8132),S=a(467),t=a(3664),m=a(6057),h=a(8012);function b(s,e){if(1&s&&(t.j41(0,"ion-item")(1,"ion-radio",9),t.EFF(2),t.k0s()()),2&s){const p=e.$implicit;t.R7$(),t.Y8G("value",p.id),t.R7$(),t.SpI(" ",p.label," ")}}function v(s,e){1&s&&t.nrm(0,"ion-spinner",10)}function y(s,e){1&s&&(t.j41(0,"span"),t.EFF(1,"Start Session"),t.k0s())}let I=(()=>{var s;class e{constructor(o,n){this.db=o,this.router=n,this.questOptions=[{id:null,label:"No quest"},{id:"quick",label:"Quick Session"},{id:"full-body",label:"Full Body"},{id:"upper",label:"Upper Body"},{id:"lower",label:"Lower Body"}],this.selectedQuestId=null,this.isStarting=!1}startSession(){var o=this;return(0,S.A)(function*(){if(!o.isStarting){o.isStarting=!0;try{const n=(new Date).toISOString(),r={id:crypto.randomUUID(),startedAt:n,createdAt:n,updatedAt:n,questId:o.selectedQuestId??void 0};yield o.db.createSession(r),yield o.router.navigate(["/session",r.id])}catch(n){console.error("Failed to start session:",n),o.isStarting=!1}}})()}static#t=s=()=>(this.\u0275fac=function(n){return new(n||e)(t.rXU(m.at),t.rXU(h.Ix))},this.\u0275cmp=t.VBU({type:e,selectors:[["app-start-session"]],standalone:!1,decls:15,vars:5,consts:[["slot","start"],["defaultHref","/tabs/home"],[1,"ion-padding"],[1,"section-label"],[3,"ngModelChange","ngModel"],[4,"ngFor","ngForOf"],["expand","block","size","large",1,"start-btn",3,"click","disabled"],["name","crescent",4,"ngIf"],[4,"ngIf"],["justify","start","labelPlacement","end",3,"value"],["name","crescent"]],template:function(n,r){1&n&&(t.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),t.nrm(3,"ion-back-button",1),t.k0s(),t.j41(4,"ion-title"),t.EFF(5,"Start Session"),t.k0s()()(),t.j41(6,"ion-content",2)(7,"div",3),t.EFF(8,"Select a Quest (optional)"),t.k0s(),t.j41(9,"ion-radio-group",4),t.mxI("ngModelChange",function(c){return t.DH7(r.selectedQuestId,c)||(r.selectedQuestId=c),c}),t.j41(10,"ion-list"),t.DNE(11,b,3,2,"ion-item",5),t.k0s()(),t.j41(12,"ion-button",6),t.bIt("click",function(){return r.startSession()}),t.DNE(13,v,1,0,"ion-spinner",7)(14,y,2,0,"span",8),t.k0s()()),2&n&&(t.R7$(9),t.R50("ngModel",r.selectedQuestId),t.R7$(2),t.Y8G("ngForOf",r.questOptions),t.R7$(),t.Y8G("disabled",r.isStarting),t.R7$(),t.Y8G("ngIf",r.isStarting),t.R7$(),t.Y8G("ngIf",!r.isStarting))},dependencies:[l.Sq,l.bT,d.BC,d.vS,i.Jm,i.QW,i.W9,i.eU,i.uz,i.nf,i.KO,i.f0,i.w2,i.BC,i.ai,i.Je,i.el],styles:[".section-label[_ngcontent-%COMP%]{font-size:.9rem;font-weight:500;text-transform:uppercase;letter-spacing:.5px;opacity:.7;margin-bottom:12px}.start-btn[_ngcontent-%COMP%]{margin-top:32px;--border-radius: 8px}"]}))}return s(),e})();var f=a(2615);const F=[{path:"",component:I}];let C=(()=>{var s;class e{static#t=s=()=>(this.\u0275fac=function(n){return new(n||e)},this.\u0275mod=t.$C({type:e}),this.\u0275inj=f.G2t({imports:[g.iI.forChild(F),g.iI]}))}return s(),e})(),P=(()=>{var s;class e{static#t=s=()=>(this.\u0275fac=function(n){return new(n||e)},this.\u0275mod=t.$C({type:e}),this.\u0275inj=f.G2t({imports:[l.MD,d.YN,i.bv,C]}))}return s(),e})()}}]);